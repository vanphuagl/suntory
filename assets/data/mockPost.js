const mockPost = [
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: true,
    thumbnail: "./assets/img/post-1.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: true,
    thumbnail: "./assets/img/post-2.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "万博SDGs",
    typeCategory: "sdgs",
    new: false,
    thumbnail: "./assets/img/post-3.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "イベント参加",
    typeCategory: "event",
    new: false,
    thumbnail: "./assets/img/post-4.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: false,
    thumbnail: "./assets/img/post-5.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: false,
    thumbnail: "./assets/img/post-6.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: false,
    thumbnail: "./assets/img/post-1.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: false,
    thumbnail: "./assets/img/post-2.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "万博SDGs",
    typeCategory: "sdgs",
    new: false,
    thumbnail: "./assets/img/post-3.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "イベント参加",
    typeCategory: "event",
    new: false,
    thumbnail: "./assets/img/post-4.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: false,
    thumbnail: "./assets/img/post-5.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: false,
    thumbnail: "./assets/img/post-6.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: false,
    thumbnail: "./assets/img/post-1.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: false,
    thumbnail: "./assets/img/post-2.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "万博SDGs",
    typeCategory: "sdgs",
    new: false,
    thumbnail: "./assets/img/post-3.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "イベント参加",
    typeCategory: "event",
    new: false,
    thumbnail: "./assets/img/post-4.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "みんなの投稿",
    typeCategory: "minna",
    new: false,
    thumbnail: "./assets/img/post-5.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
  {
    category: "なかま紹介",
    typeCategory: "nakama",
    new: false,
    thumbnail: "./assets/img/post-6.webp",
    date: "2023.4.13 thu",
    title: "タイトルが入りますタイトルが入りますタイトルが入ります",
    author: "万博準備室 名定",
    avatar: "./assets/img/photo.webp",
    hashtags: [
      {
        link: "#",
        name: "大阪グルメ",
      },
      {
        link: "#",
        name: "ミャクミャク",
      },
      {
        link: "#",
        name: "万博会場探訪",
      },
      {
        link: "#",
        name: "SDGs",
      },
      {
        link: "#",
        name: "お得に万博",
      },
    ],
  },
];

/* -------------------------------------------------------------------------- */
/*                                emulator data                               */
/* -------------------------------------------------------------------------- */

// render article
const articleList = document.querySelector("#article-list");
let maxItem = 12;

const renderArticle = (data, max) => {
  data.slice(0, max).forEach((item) => {
    // console.log("item", item);

    let article = `
        <div class="c-article__items">
          <a href="./listCategory.html" class="c-article__category ${
            item.typeCategory
          }">
            ${item.category}
          </a>

          <a href="./detail.html" class="c-article__box">
              <div class="c-article__thumbnail">
                  <img src="${item.thumbnail}" alt="${item.title}">
                  
                  ${item.new ? `<p class="c-article__new">new</p>` : ""}
              </div>

              <div class="c-article__content">
                  <p class="c-article__date">
                    ${item.date}
                  </p>

                  <h2 class="c-article__title">
                    ${item.title}
                  </h2>

                  <figure class="c-article__photo">
                      <img src="${item.avatar}" alt="${item.author}">
                      <p class="c-article__name">
                        ${item.author}
                      </p>
                  </figure>
              </div>
          </a>

          <div class="c-article__tags">
            <a href="./listHashtag.html">＃大阪グルメ</a>
            <a href="./listHashtag.html">#ミャクミャク</a>
            <a href="./listHashtag.html">＃万博会場探訪</a>
            <a href="./listHashtag.html">＃SDGs</a>
            <a href="./listHashtag.html">＃お得に万博</a>             
          </div>
        </div>
      `;
    articleList.insertAdjacentHTML("beforeend", article);
  });
};

renderArticle(mockPost, maxItem);

/* ----------------------------- infinite scroll ---------------------------- */
// const loading = document.querySelector(".c-loadmore");
window.addEventListener("scroll", () => {
  if (loading) {
    const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
    if (clientHeight + scrollTop >= scrollHeight) {
      // show the loading animation
      showLoading();
    }
  }
});

function showLoading() {
  loading.classList.add("show");

  setTimeout(() => {
    renderArticle(mockPost, 6);
  }, 500);
}
